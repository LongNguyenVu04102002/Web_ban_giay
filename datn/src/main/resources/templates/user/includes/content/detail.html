<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{user/layout.html}">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div layout:fragment="usercontent">
    <section class="relative table w-full py-20 lg:py-24 md:pt-28 bg-gray-50 dark:bg-slate-800">
        <div class="container relative">
            <div class="grid grid-cols-1 mt-14">
                <h3 class="text-3xl leading-normal font-semibold">Shoe Detail</h3>
            </div>
            <div class="relative mt-3">
                <ul class="tracking-[0.5px] mb-0 inline-block">
                    <li class="inline-block uppercase text-[13px] font-bold duration-500 ease-in-out hover:text-orange-500">
                        <a href="#">XBoy</a></li>
                    <li class="inline-block text-base text-slate-950 dark:text-white mx-0.5 ltr:rotate-0 rtl:rotate-180">
                        <i class="mdi mdi-chevron-right"></i></li>
                    <li class="inline-block uppercase text-[13px] font-bold duration-500 ease-in-out hover:text-orange-500">
                        <a href="#">Shop</a></li>
                    <li class="inline-block text-base text-slate-950 dark:text-white mx-0.5 ltr:rotate-0 rtl:rotate-180">
                        <i class="mdi mdi-chevron-right"></i></li>
                    <li class="inline-block uppercase text-[13px] font-bold text-orange-500" aria-current="page">Shoe
                        Detail
                    </li>
                </ul>
            </div>
        </div>
    </section>

    <section class="relative md:py-24 py-16">
        <div class="container relative">
            <div class="grid lg:grid-cols-12 md:grid-cols-2 grid-cols-1 gap-6 items-center">
                <div class="lg:col-span-5">
                    <div class="tiny-single-item">
                        <div class="tiny-slide">
                            <div class="m-0.5">
                                <img src="/images/shop/mens-jecket.jpg" class="shadow dark:shadow-gray-700"
                                     alt="">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="lg:col-span-7">
                    <h5 class="text-2xl font-semibold" th:text="${sanPham.ten}"></h5>
                    <div class="mt-2 flex justify-between">
        <span th:text="${#numbers.formatDecimal(sanPham.sanPhamChiTietList[0].giaBan, 1, 'COMMA', 0, 'POINT')} + ' VND'"
              class="text-slate-400 font-semibold me-1">
        </span>
                        <ul class="list-none inline-block text-orange-400">
                            <li class="inline"><i class="mdi mdi-star text-lg"></i></li>
                            <li class="inline"><i class="mdi mdi-star text-lg"></i></li>
                            <li class="inline"><i class="mdi mdi-star text-lg"></i></li>
                            <li class="inline"><i class="mdi mdi-star text-lg"></i></li>
                            <li class="inline"><i class="mdi mdi-star text-lg"></i></li>
                            <li class="inline text-slate-400 font-semibold">4.8 (45)</li>
                        </ul>
                    </div>

                    <form th:action="@{/cart/add}" method="post" class="mt-4">
                        <div class="grid lg:grid-cols-2 grid-cols-1 gap-6">
                            <div class="flex items-center">
                                <h5 class="text-lg font-semibold me-2">Size:</h5>
                                <div class="space-x-1">
                                    <button th:each="chiTiet, index : ${uniqueSizes}"
                                            th:key="${index}"
                                            th:text="${chiTiet.ten}"
                                            th:onclick="'selectSize(' + ${chiTiet.kichThuocId} + ')'"
                                            class="size-9 inline-flex items-center justify-center tracking-wide align-middle text-base text-center border border-orange-500 rounded-md"
                                            th:classappend="${selectedSizeId == chiTiet.kichThuocId} ? 'bg-orange-500 text-white' : 'text-orange-500 hover:bg-orange-500 hover:text-white'">
                                    </button>
                                </div>
                            </div>

                            <div class="flex items-center">
                                <h5 class="text-lg font-semibold me-2">Quantity:</h5>
                                <div class="qty-icons ms-3 space-x-0.5">
                                    <button type="button" onclick="this.parentNode.querySelector('input[type=number]').stepDown()"
                                            class="size-9 inline-flex items-center justify-center tracking-wide align-middle text-base text-center rounded-md bg-orange-500/5 hover:bg-orange-500 text-orange-500 hover:text-white minus">
                                        -
                                    </button>
                                    <input min="1" name="soLuong" value="1" type="number"
                                           class="h-9 inline-flex items-center justify-center tracking-wide align-middle text-base text-center rounded-md bg-orange-500/5 hover:bg-orange-500 text-orange-500 hover:text-white pointer-events-auto w-16 ps-4 quantity">
                                    <button type="button" onclick="this.parentNode.querySelector('input[type=number]').stepUp()"
                                            class="size-9 inline-flex items-center justify-center tracking-wide align-middle text-base text-center rounded-md bg-orange-500/5 hover:bg-orange-500 text-orange-500 hover:text-white plus">
                                        +
                                    </button>
                                </div>
                            </div>

                            <div class="flex items-center">
                                <h5 class="text-lg font-semibold me-2">Colors:</h5>
                                <div class="space-x-2">
                                    <button th:each="color : ${uniqueColors}"
                                            th:attr="class='size-9 inline-flex items-center justify-center tracking-wide rounded-md ring-2 inline-flex align-middle bg-'+ ${color.ten}">
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Thêm sản phẩm vào giỏ hàng -->
                        <input type="hidden" name="sanPhamId" th:value="${sanPham.sanPhamId}" />
                        <input type="hidden" name="khachHangId" th:value="${khachHangId}" />
                        <input type="hidden" name="sanPhamChiTietId" th:value="${sanPham.sanPhamChiTietList[0].sanPhamChiTietId}" /> <!-- Cần logic để chọn sản phẩm chi tiết phù hợp -->

                        <div class="mt-4 space-x-1">
                            <a href="#"
                               class="py-2 px-5 inline-block font-semibold tracking-wide align-middle text-base text-center bg-orange-500 text-white rounded-md mt-2">Shop
                                Now</a>
                            <button type="submit"
                                    class="py-2 px-5 inline-block font-semibold tracking-wide align-middle text-base text-center rounded-md bg-orange-500 text-white hover:bg-orange-600 mt-2">Add
                                to Cart</button>
                        </div>
                    </form>
                </div>

            </div>

        </div><!--end container-->


    </section>
</div>
</body>
</html>