<!DOCTYPE html>
<html lang="en" layout:decorate="~{user/layout.html}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Shoe Detail</title>
    <style>
        .size-option, .color-option {
            padding: 5px 10px;
            border: 2px solid #FFA500;
            border-radius: 5px;
            cursor: pointer;
            display: inline-block;
            margin-right: 5px;
            text-align: center;
            user-select: none;
        }

        .selected {
            background-color: #FFA500;
            color: white;
        }
    </style>
</head>
<body>
<div layout:fragment="usercontent">
    <section class="relative md:py-24 py-16">
        <div class="container relative">
            <div class="grid lg:grid-cols-12 md:grid-cols-2 grid-cols-1 gap-6 items-center">
                <div class="lg:col-span-5">
                    <img alt="Product Image" class="shadow dark:shadow-gray-700" src="/images/shop/mens-jecket.jpg">
                </div>

                <div class="lg:col-span-7">
                    <!-- Tên sản phẩm -->
                    <h5 class="text-2xl font-semibold" th:text="${sanPham.ten}">Tên Sản Phẩm</h5>
                    <div class="mt-2 flex justify-between">
                        <!-- Hiển thị giá bán của sản phẩm đã chọn -->
                        <span class="text-slate-400 font-semibold me-1"
                              th:text="${#numbers.formatDecimal(selectedSanPhamChiTiet.giaBan, 1, 'COMMA', 0, 'POINT')} + ' VND'">
                        </span>
                        <ul class="list-none inline-block text-orange-400">
                            <li class="inline"><i class="mdi mdi-star text-lg"></i></li>
                            <li class="inline"><i class="mdi mdi-star text-lg"></i></li>
                            <li class="inline"><i class="mdi mdi-star text-lg"></i></li>
                            <li class="inline"><i class="mdi mdi-star text-lg"></i></li>
                            <li class="inline"><i class="mdi mdi-star text-lg"></i></li>
                            <li class="inline text-slate-400 font-semibold">4.8 (45)</li>
                        </ul>
                    </div>

                    <!-- Form chọn sản phẩm -->
                    <div class="grid lg:grid-cols-2 grid-cols-1 gap-6">
                        <!-- Kích thước -->
                        <div class="flex items-center">
                            <h5 class="text-lg font-semibold me-2">Chọn kích thước:</h5>
                            <div class="space-x-1">
                                <button class="size-option"
                                        th:each="size : ${uniqueSizes}"
                                        th:text="${size.ten}"
                                        th:attr="data-size-id=${size.kichThuocId}"
                                        th:classappend="${selectedSanPhamChiTiet.kichThuoc.kichThuocId == size.kichThuocId ? 'selected' : ''}"
                                        onclick="selectSize(this)">
                                </button>
                            </div>
                        </div>
                        <div class="flex items-center">
                            <h5 class="text-lg font-semibold me-2">Quantity:</h5>
                            <div class="qty-icons ms-3 space-x-0.5">
                                <button class="size-9 inline-flex items-center justify-center tracking-wide align-middle text-base text-center rounded-md bg-orange-500/5 hover:bg-orange-500 text-orange-500 hover:text-white minus"
                                        onclick="this.parentNode.querySelector('input[type=number]').stepDown()"
                                        type="button">
                                    -
                                </button>
                                <input class="h-9 inline-flex items-center justify-center tracking-wide align-middle text-base text-center rounded-md bg-orange-500/5 hover:bg-orange-500 text-orange-500 hover:text-white pointer-events-auto w-16 ps-4 quantity" min="1" name="soLuong" type="number"
                                       value="1">
                                <button class="size-9 inline-flex items-center justify-center tracking-wide align-middle text-base text-center rounded-md bg-orange-500/5 hover:bg-orange-500 text-orange-500 hover:text-white plus"
                                        onclick="this.parentNode.querySelector('input[type=number]').stepUp()"
                                        type="button">
                                    +
                                </button>
                            </div>
                        </div>

                        <!-- Màu sắc -->
                        <div class="flex items-center">
                            <h5 class="text-lg font-semibold me-2">Chọn màu sắc:</h5>
                            <div class="space-x-2">
                                <button class="color-option"
                                        th:each="color : ${uniqueColors}"
                                        th:text="${color.ten}"
                                        th:attr="data-color-id=${color.mauSacId}"
                                        th:classappend="${selectedSanPhamChiTiet.mauSac.mauSacId == color.mauSacId ? 'selected' : ''}"
                                        onclick="selectColor(this)"
                                        value="${color.mauSacId}">
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Thêm sản phẩm vào giỏ hàng -->
                    <input name="sanPhamId" th:value="${sanPham.sanPhamId}" type="hidden"/>
                    <input name="khachHangId" th:value="${khachHangId}" type="hidden"/>
                    <input id="sanPhamChiTietId" name="sanPhamChiTietId" type="hidden" th:value="${selectedSanPhamChiTiet != null ? selectedSanPhamChiTiet.sanPhamChiTietId : ''}"/>
                    <input id="selectedSizeId" name="selectedSizeId" type="hidden" th:value="${selectedSanPhamChiTiet != null ? selectedSanPhamChiTiet.kichThuoc.kichThuocId : ''}"/>
                    <input id="selectedColorId" name="selectedColorId" type="hidden" th:value="${selectedSanPhamChiTiet != null ? selectedSanPhamChiTiet.mauSac.mauSacId : ''}"/>

                    <div class="mt-4 space-x-1">
                        <a class="btn bg-orange-600 hover:bg-orange-700 border-orange-600 hover:border-orange-700 text-white rounded-md add-to-cart" href="javascript:void(0);">Thêm
                            vào giỏ hàng</a>
                        <a class="btn bg-slate-900 hover:bg-slate-700 border-slate-900 hover:border-slate-700 text-white rounded-md" href="shop-cart.html">Mua
                            ngay</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>


</body>
</html>

