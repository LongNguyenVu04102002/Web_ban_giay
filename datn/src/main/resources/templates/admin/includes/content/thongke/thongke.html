<!--<!DOCTYPE html>-->
<!--<html lang="en" xmlns:th="http://www.thymeleaf.org"-->
<!--      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"-->
<!--      layout:decorate="~{admin/layout.html}">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tom-select/dist/css/tom-select.min.css">-->
<!--    <script src="https://cdn.jsdelivr.net/npm/tom-select"></script>-->
<!--    <title>Thống kê</title>-->
<!--</head>-->
<!--<body>-->
<!--<div layout:fragment="admincontent">-->
<!--    <div class="flex flex-col gap-4">-->
<!--        <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-4">-->
<!--            <div class="card card-layout-frame">-->
<!--                <div class="card-body">-->
<!--                    <div class="flex items-center gap-4">-->
<!--                        <span class="avatar avatar-rounded bg-indigo-100 text-indigo-600 dark:bg-indigo-500/20 dark:text-indigo-100 avatar-lg text-3xl"-->
<!--                              data-avatar-size="55">-->
<!--                            <span class="avatar-icon">-->
<!--                                <svg stroke="currentColor" fill="currentColor"-->
<!--                                     stroke-width="0" viewBox="0 0 20 20"-->
<!--                                     aria-hidden="true" height="1em" width="1em"-->
<!--                                     xmlns="http://www.w3.org/2000/svg">-->
<!--                                    <path fill-rule="evenodd"-->
<!--                                          d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z"-->
<!--                                          clip-rule="evenodd"></path>-->
<!--                                </svg>-->
<!--                            </span>-->
<!--                        </span>-->
<!--                        <div>-->
<!--                            <div class="flex gap-1.5 items-end mb-2">-->
<!--                                <h3 class="font-bold leading-none">63</h3>-->
<!--                                <p class="font-semibold">New Leads</p>-->
<!--                            </div>-->
<!--                            <p class="flex items-center gap-1">-->
<!--                                <span class="flex items-center rounded-full gap-1">-->
<!--                                    <span class="rounded-full p-1 bg-emerald-100 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-100">-->
<!--                                        <svg stroke="currentColor" fill="none"-->
<!--                                             stroke-width="2" viewBox="0 0 24 24"-->
<!--                                             aria-hidden="true" height="1em" width="1em"-->
<!--                                             xmlns="http://www.w3.org/2000/svg">-->
<!--                                            <path stroke-linecap="round"-->
<!--                                                  stroke-linejoin="round"-->
<!--                                                  d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>-->
<!--                                        </svg>-->
<!--                                    </span>-->
<!--                                    <span class="font-semibold text-emerald-600">+ 2.6</span>-->
<!--                                </span>-->
<!--                                <span>this month</span>-->
<!--                            </p>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="card card-layout-frame">-->
<!--                <div class="card-body">-->
<!--                    <div class="flex items-center gap-4">-->
<!--                        <span class="avatar avatar-rounded bg-cyan-100 text-cyan-600 dark:bg-cyan-500/20 dark:text-cyan-100 avatar-lg text-3xl"-->
<!--                              data-avatar-size="55">-->
<!--                            <span class="avatar-icon">-->
<!--                                <svg stroke="currentColor" fill="currentColor"-->
<!--                                     stroke-width="0" viewBox="0 0 20 20"-->
<!--                                     aria-hidden="true" height="1em" width="1em"-->
<!--                                     xmlns="http://www.w3.org/2000/svg">-->
<!--                                    <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>-->
<!--                                    <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>-->
<!--                                </svg>-->
<!--                            </span>-->
<!--                        </span>-->
<!--                        <div>-->
<!--                            <div class="flex gap-1.5 items-end mb-2">-->
<!--                                <h3 class="font-bold leading-none">25</h3>-->
<!--                                <p class="font-semibold">Email</p>-->
<!--                            </div>-->
<!--                            <p class="flex items-center gap-1">-->
<!--                                <span class="flex items-center rounded-full gap-1">-->
<!--                                    <span class="rounded-full p-1 bg-emerald-100 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-100">-->
<!--                                        <svg stroke="currentColor" fill="none"-->
<!--                                             stroke-width="2" viewBox="0 0 24 24"-->
<!--                                             aria-hidden="true" height="1em" width="1em"-->
<!--                                             xmlns="http://www.w3.org/2000/svg">-->
<!--                                            <path stroke-linecap="round"-->
<!--                                                  stroke-linejoin="round"-->
<!--                                                  d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>-->
<!--                                        </svg>-->
<!--                                    </span>-->
<!--                                    <span class="font-semibold text-emerald-600">+ 5.5</span>-->
<!--                                </span>-->
<!--                                <span>this month</span>-->
<!--                            </p>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="card card-layout-frame">-->
<!--                <div class="card-body">-->
<!--                    <div class="flex items-center gap-4">-->
<!--                        <span class="avatar avatar-rounded bg-emerald-100 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-100 avatar-lg text-3xl"-->
<!--                              data-avatar-size="55">-->
<!--                            <span class="avatar-icon">-->
<!--                                <svg stroke="currentColor" fill="currentColor"-->
<!--                                     stroke-width="0" viewBox="0 0 20 20"-->
<!--                                     aria-hidden="true" height="1em" width="1em"-->
<!--                                     xmlns="http://www.w3.org/2000/svg">-->
<!--                                    <path fill-rule="evenodd"-->
<!--                                          d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z"-->
<!--                                          clip-rule="evenodd"></path>-->
<!--                                </svg>-->
<!--                            </span>-->
<!--                        </span>-->
<!--                        <div>-->
<!--                            <div class="flex gap-1.5 items-end mb-2">-->
<!--                                <h3 class="font-bold leading-none">49</h3>-->
<!--                                <p class="font-semibold">Proposals</p>-->
<!--                            </div>-->
<!--                            <p class="flex items-center gap-1">-->
<!--                                <span class="flex items-center rounded-full gap-1">-->
<!--                                    <span class="rounded-full p-1 text-red-600 bg-red-100 dark:text-red-100 dark:bg-red-500/20">-->
<!--                                        <svg stroke="currentColor" fill="none"-->
<!--                                             stroke-width="2" viewBox="0 0 24 24"-->
<!--                                             aria-hidden="true" height="1em" width="1em"-->
<!--                                             xmlns="http://www.w3.org/2000/svg">-->
<!--                                            <path stroke-linecap="round"-->
<!--                                                  stroke-linejoin="round"-->
<!--                                                  d="M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"></path>-->
<!--                                        </svg>-->
<!--                                    </span>-->
<!--                                    <span class="font-semibold text-red-600">-0.7</span>-->
<!--                                </span>-->
<!--                                <span>this month</span>-->
<!--                            </p>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="card card-layout-frame">-->
<!--                <div class="card-body">-->
<!--                    <div class="flex items-center gap-4">-->
<!--                            <span class="avatar avatar-rounded bg-amber-100 text-amber-600 dark:bg-amber-500/20 dark:text-amber-100 avatar-lg text-3xl"-->
<!--                                  data-avatar-size="55">-->
<!--                                <span class="avatar-icon">-->
<!--                                    <svg stroke="currentColor" fill="currentColor"-->
<!--                                         stroke-width="0" viewBox="0 0 20 20"-->
<!--                                         aria-hidden="true" height="1em" width="1em"-->
<!--                                         xmlns="http://www.w3.org/2000/svg">-->
<!--                                        <path fill-rule="evenodd"-->
<!--                                              d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z"-->
<!--                                              clip-rule="evenodd"></path>-->
<!--                                    </svg>-->
<!--                                </span>-->
<!--                            </span>-->
<!--                        <div>-->
<!--                            <div class="flex gap-1.5 items-end mb-2">-->
<!--                                <h3 class="font-bold leading-none">12</h3>-->
<!--                                <p class="font-semibold">Appointment</p>-->
<!--                            </div>-->
<!--                            <p class="flex items-center gap-1">-->
<!--                                <span class="flex items-center rounded-full gap-1">-->
<!--                                    <span class="rounded-full p-1 bg-emerald-100 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-100">-->
<!--                                        <svg stroke="currentColor" fill="none"-->
<!--                                             stroke-width="2" viewBox="0 0 24 24"-->
<!--                                             aria-hidden="true" height="1em" width="1em"-->
<!--                                             xmlns="http://www.w3.org/2000/svg">-->
<!--                                            <path stroke-linecap="round"-->
<!--                                                  stroke-linejoin="round"-->
<!--                                                  d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>-->
<!--                                        </svg>-->
<!--                                    </span>-->
<!--                                    <span class="font-semibold text-emerald-600">+ 2.6</span>-->
<!--                                </span>-->
<!--                                <span>this month</span>-->
<!--                            </p>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--    <div class="grid grid-cols-1 xl:grid-cols-11 gap-4 mt-4">-->
<!--        <div class="card card-layout-frame 2xl:col-span-8 xl:col-span-7">-->
<!--            <div class="card-body">-->
<!--                <div class="flex flex-col sm:flex-row items-center justify-between gap-4 mb-6">-->
<!--                    <div>-->
<!--                        <p>Portfolio Balance</p>-->
<!--                        <h4 class="font-bold">-->
<!--                            <span>$45,966.12</span>-->
<!--                        </h4>-->
<!--                    </div>-->
<!--                    <div class="segment segment-sm">-->
<!--                        <button class="segment-item">Week</button>-->
<!--                        <button class="segment-item segment-item-active">Month</button>-->
<!--                        <button class="segment-item">Year</button>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div id="portfolio-perfomance-chart"></div>-->
<!--            </div>-->
<!--        </div>-->
<!--        <div class="card card-layout-frame 2xl:col-span-3 xl:col-span-4">-->
<!--            <div class="card card-layout-frame">-->
<!--                <div class="card-body">-->
<!--                    <h4>Categories</h4>-->
<!--                    <div class="mt-6">-->
<!--                        <div id="categories-chart"></div>-->
<!--                    </div>-->
<!--                    <div class="mt-6 grid grid-cols-2 gap-4 max-w-[180px] mx-auto">-->
<!--                        <div class="flex items-center gap-1">-->
<!--                            <span class="badge-dot" style="background-color: rgb(79, 70, 229);"></span>-->
<!--                            <span class="font-semibold">Devices</span>-->
<!--                        </div>-->
<!--                        <div class="flex items-center gap-1">-->
<!--                            <span class="badge-dot" style="background-color: rgb(59, 130, 246);"></span>-->
<!--                            <span class="font-semibold">Watches</span>-->
<!--                        </div>-->
<!--                        <div class="flex items-center gap-1">-->
<!--                            <span class="badge-dot" style="background-color: rgb(16, 185, 129);"></span>-->
<!--                            <span class="font-semibold">Bags</span>-->
<!--                        </div>-->
<!--                        <div class="flex items-center gap-1">-->
<!--                            <span class="badge-dot" style="background-color: rgb(245, 158, 11);"></span>-->
<!--                            <span class="font-semibold">Shoes</span>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--    <div class="grid grid-cols-1 xl:grid-cols-11 gap-4 mt-4">-->
<!--        <div class="card card-layout-frame 2xl:col-span-8 xl:col-span-7">-->
<!--            <div class="card-body">-->
<!--                <div class="flex items-center justify-between mb-6">-->
<!--                    <h4>Latest Orders</h4>-->
<!--                    <button class="btn btn-sm btn-default">View Orders</button>-->
<!--                </div>-->
<!--                <div class="overflow-x-auto">-->
<!--                    <table class="table-default table-hover">-->
<!--                        <thead>-->
<!--                        <tr>-->
<!--                            <th>Order</th>-->
<!--                            <th>Status</th>-->
<!--                            <th>Date</th>-->
<!--                            <th>Customer</th>-->
<!--                            <th>Profile Progress</th>-->
<!--                        </tr>-->
<!--                        </thead>-->
<!--                        <tbody>-->
<!--                        <tr>-->
<!--                            <td>-->
<!--                                <span class="cursor-pointer select-none font-semibold hover:text-indigo-600">#95954</span>-->
<!--                            </td>-->
<!--                            <td>-->
<!--                                <div class="flex items-center">-->
<!--                                    <span class="badge-dot bg-emerald-500"></span>-->
<!--                                    <span class="ml-2 rtl:mr-2 capitalize font-semibold text-emerald-500">Paid</span>-->
<!--                                </div>-->
<!--                            </td>-->
<!--                            <td>-->
<!--                                <span>10/08/2022</span>-->
<!--                            </td>-->
<!--                            <td>Ron Vargas</td>-->
<!--                            <td>-->
<!--                                <span>$168.00</span-->
<!--                                ></td>-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                            <td>-->
<!--                                <span class="cursor-pointer select-none font-semibold hover:text-indigo-600">#95423</span>-->
<!--                            </td>-->
<!--                            <td>-->
<!--                                <div class="flex items-center">-->
<!--                                    <span class="badge-dot bg-emerald-500"></span>-->
<!--                                    <span class="ml-2 rtl:mr-2 capitalize font-semibold text-emerald-500">Paid</span>-->
<!--                                </div>-->
<!--                            </td>-->
<!--                            <td>-->
<!--                                <span>30/07/2022</span>-->
<!--                            </td>-->
<!--                            <td>Carolyn Hanso</td>-->
<!--                            <td>-->
<!--                                <span>$523.00</span>-->
<!--                            </td>-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                            <td>-->
<!--                                <span class="cursor-pointer select-none font-semibold hover:text-indigo-600">#92903</span>-->
<!--                            </td>-->
<!--                            <td>-->
<!--                                <div class="flex items-center">-->
<!--                                    <span class="badge-dot bg-amber-500"></span>-->
<!--                                    <span class="ml-2 rtl:mr-2 capitalize font-semibold text-amber-500">Pending</span>-->
<!--                                </div>-->
<!--                            </td>-->
<!--                            <td>-->
<!--                                <span>18/07/2022</span>-->
<!--                            </td>-->
<!--                            <td>Gabriella May</td>-->
<!--                            <td>-->
<!--                                <span>$81.00</span>-->
<!--                            </td>-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                            <td>-->
<!--                                <span class="cursor-pointer select-none font-semibold hover:text-indigo-600">#92627</span>-->
<!--                            </td>-->
<!--                            <td>-->
<!--                                <div class="flex items-center">-->
<!--                                    <span class="badge-dot bg-red-500"></span>-->
<!--                                    <span class="ml-2 rtl:mr-2 capitalize font-semibold text-red-500">Failed</span>-->
<!--                                </div>-->
<!--                            </td>-->
<!--                            <td>-->
<!--                                <span>09/07/2022</span>-->
<!--                            </td>-->
<!--                            <td>Tara Fletcher</td>-->
<!--                            <td>-->
<!--                                <span>$279.00</span>-->
<!--                            </td>-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                            <td>-->
<!--                                <span class="cursor-pointer select-none font-semibold hover:text-indigo-600">#89332</span>-->
<!--                            </td>-->
<!--                            <td>-->
<!--                                <div class="flex items-center">-->
<!--                                    <span class="badge-dot bg-emerald-500"></span>-->
<!--                                    <span class="ml-2 rtl:mr-2 capitalize font-semibold text-emerald-500">Paid</span>-->
<!--                                </div>-->
<!--                            </td>-->
<!--                            <td>-->
<!--                                <span>02/06/2022</span>-->
<!--                            </td>-->
<!--                            <td>Eileen Horton</td>-->
<!--                            <td>-->
<!--                                <span>$597.00</span>-->
<!--                            </td>-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                            <td>-->
<!--                                <span class="cursor-pointer select-none font-semibold hover:text-indigo-600">#86497</span>-->
<!--                            </td>-->
<!--                            <td>-->
<!--                                <div class="flex items-center">-->
<!--                                    <span class="badge-dot bg-red-500"></span>-->
<!--                                    <span class="ml-2 rtl:mr-2 capitalize font-semibold text-red-500">Failed</span>-->
<!--                                </div>-->
<!--                            </td>-->
<!--                            <td>-->
<!--                                <span>19/03/2022</span>-->
<!--                            </td>-->
<!--                            <td>Lloyd Obrien</td>-->
<!--                            <td>-->
<!--                                <span>$189.00</span>-->
<!--                            </td>-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                            <td>-->
<!--                                <span class="cursor-pointer select-none font-semibold hover:text-indigo-600">#86212</span>-->
<!--                            </td>-->
<!--                            <td>-->
<!--                                <div class="flex items-center">-->
<!--                                    <span class="badge-dot bg-emerald-500"></span>-->
<!--                                    <span class="ml-2 rtl:mr-2 capitalize font-semibold text-emerald-500">Paid</span>-->
<!--                                </div>-->
<!--                            </td>-->
<!--                            <td>-->
<!--                                <span>09/03/2022</span>-->
<!--                            </td>-->
<!--                            <td>Tara Fletcher</td>-->
<!--                            <td>-->
<!--                                <span>$672.00</span>-->
<!--                            </td>-->
<!--                        </tr>-->
<!--                        </tbody>-->
<!--                    </table>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--        <div class="card card-layout-frame 2xl:col-span-3 xl:col-span-4">-->
<!--            <div class="card-body">-->
<!--                <div class="flex items-center justify-between mb-4">-->
<!--                    <h4>Top Selling</h4>-->
<!--                    <button class="btn btn-sm btn-default">View Products</button>-->
<!--                </div>-->
<!--                <div class="overflow-x-auto">-->
<!--                    <table class="table-default table-hover">-->
<!--                        <thead>-->
<!--                        <tr>-->
<!--                            <th>Product</th>-->
<!--                            <th>Sold</th>-->
<!--                        </tr>-->
<!--                        </thead>-->
<!--                        <tbody>-->
<!--                        <tr>-->
<!--                            <td>-->
<!--                                <div class="flex items-center gap-2">-->
<!--                                    <span class="avatar avatar-rounded avatar-md">-->
<!--                                        <img-->
<!--                                                class="avatar-img avatar-rounded"-->
<!--                                                src="img/products/product-1.jpg"-->
<!--                                                loading="lazy"-->
<!--                                        />-->
<!--                                    </span>-->
<!--                                    <span class="font-semibold"-->
<!--                                    >Luminaire Giotto Headphones</span-->
<!--                                    >-->
<!--                                </div>-->
<!--                            </td>-->
<!--                            <td>252</td>-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                            <td>-->
<!--                                <div class="flex items-center gap-2">-->
<!--                                    <span class="avatar avatar-rounded avatar-md">-->
<!--                                        <img-->
<!--                                                class="avatar-img avatar-rounded"-->
<!--                                                src="img/products/product-3.jpg"-->
<!--                                                loading="lazy"-->
<!--                                        />-->
<!--                                    </span>-->
<!--                                    <span class="font-semibold">Black Sneaker</span>-->
<!--                                </div>-->
<!--                            </td>-->
<!--                            <td>186</td>-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                            <td>-->
<!--                                <div class="flex items-center gap-2">-->
<!--                                    <span class="avatar avatar-rounded avatar-md">-->
<!--                                        <img-->
<!--                                                class="avatar-img avatar-rounded"-->
<!--                                                src="img/products/product-4.jpg"-->
<!--                                                loading="lazy"-->
<!--                                        />-->
<!--                                    </span>-->
<!--                                    <span class="font-semibold">Gray Hoodies</span>-->
<!--                                </div>-->
<!--                            </td>-->
<!--                            <td>166</td>-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                            <td>-->
<!--                                <div class="flex items-center gap-2">-->
<!--                                    <span class="avatar avatar-rounded avatar-md">-->
<!--                                        <img-->
<!--                                                class="avatar-img avatar-rounded"-->
<!--                                                src="img/products/product-5.jpg"-->
<!--                                                loading="lazy"-->
<!--                                        />-->
<!--                                    </span>-->
<!--                                    <span class="font-semibold">Blue Backpack</span>-->
<!--                                </div>-->
<!--                            </td>-->
<!--                            <td>93</td>-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                            <td>-->
<!--                                <div class="flex items-center gap-2">-->
<!--                                    <span class="avatar avatar-rounded avatar-md">-->
<!--                                        <img-->
<!--                                                class="avatar-img avatar-rounded"-->
<!--                                                src="img/products/product-7.jpg"-->
<!--                                                loading="lazy"-->
<!--                                        />-->
<!--                                    </span>-->
<!--                                    <span class="font-semibold">Strip Analog Watch</span>-->
<!--                                </div>-->
<!--                            </td>-->
<!--                            <td>81</td>-->
<!--                        </tr>-->
<!--                        </tbody>-->
<!--                    </table>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->
<!--</body>-->
<!--</html>-->

<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{admin/layout.html}">
<head>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tom-select/dist/css/tom-select.min.css">
    <script src="https://cdn.jsdelivr.net/npm/tom-select"></script>

    <title>Trang Thống Kê</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8f9fa;
        }
        .container {
            padding: 20px;
        }
        .header {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
        }
        .card {
            background: #fff;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 22%;
            text-align: center;
            transition: transform 0.3s;
        }
        .card:hover {
            transform: translateY(-10px);
        }
        .card h2 {
            margin: 0;
            font-size: 3em;
            color: #007bff;
        }
        .card p {
            margin: 0;
            color: #6c757d;
        }
        .positive-change {
            color: green;
        }
        .negative-change {
            color: red;
        }
        .content {
            display: flex;
            justify-content: space-between;
        }
        .chart, .orders {
            background: #fff;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 48%;
            height: 400px;
            overflow-y: auto;
        }
        .orders ul {
            list-style: none;
            padding: 0;
        }
        .orders li {
            padding: 10px;
            border-bottom: 1px solid #dee2e6;
        }
        .orders li:last-child {
            border-bottom: none;
        }
        .pagination {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }
        .pagination button {
            background: #007bff;
            color: #fff;
            border: none;
            padding: 10px 20px;
            margin: 0 5px;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .pagination button:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>
<div class="container" layout:fragment="admincontent">
    <div class="header">
        <div class="card">
            <h2 id="customers-today">0</h2>
            <p>Khách hàng hôm nay</p>
            <p id="customers-change-today">+0% so với hôm qua</p>
        </div>
        <div class="card">
            <h2 id="orders-today">0</h2>
            <p>Đơn hàng hôm nay</p>
            <p id="orders-change-today">+0% so với hôm qua</p>
        </div>
        <div class="card">
            <h2 id="customers-month">0</h2>
            <p>Khách hàng tháng này</p>
            <p id="customers-change-month">+0% so với tháng trước</p>
        </div>
        <div class="card">
            <h2 id="orders-month">0</h2>
            <p>Đơn hàng tháng này</p>
            <p id="orders-change-month">+0% so với tháng trước</p>
        </div>
    </div>
    <div class="content">
        <div class="chart">
            <canvas id="orderChart"></canvas>
        </div>
        <div class="orders">
            <h3>Danh sách đơn hàng hôm nay</h3>
            <ul id="orderList">
                <!-- Orders will be inserted here -->
            </ul>
            <div class="pagination">
                <button id="prevPage">Trước</button>
                <button id="nextPage">Sau</button>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const stats = {
                customersToday: 0,
                customersYesterday: 0,
                ordersToday: 0,
                ordersYesterday: 0,
                customersThisMonth: 0,
                customersLastMonth: 0,
                ordersThisMonth: 0,
                ordersLastMonth: 0
            };

            const apiEndpoints = {
                customersToday: '/admin/api/thong-ke/countKhachHangToday?trangThai=6',
                customersYesterday: '/admin/api/thong-ke/countKhachHangYesterday?trangThai=6',
                ordersToday: '/admin/api/thong-ke/countHoaDonToday?trangThai=6',
                ordersYesterday: '/admin/api/thong-ke/countHoaDonYesterday?trangThai=6',
                customersThisMonth: '/admin/api/thong-ke/countKhachHangThisMonth?trangThai=6',
                customersLastMonth: '/admin/api/thong-ke/countKhachHangLastMonth?trangThai=6',
                ordersThisMonth: '/admin/api/thong-ke/countHoaDonThisMonth?trangThai=6',
                ordersLastMonth: '/admin/api/thong-ke/countHoaDonLastMonth?trangThai=6',
                ordersCurrentWeek: '/admin/api/thong-ke/countHoaDonForCurrentWeek?trangThai=6',
                ordersToday: '/admin/api/thong-ke/today' // Dữ liệu đơn hàng của hôm nay
            };

            let orders = []; // Khởi tạo mảng rỗng để lưu dữ liệu đơn hàng
            const itemsPerPage = 5;
            let currentPage = 1;

            async function fetchStats() {
                for (const key in apiEndpoints) {
                    if (apiEndpoints.hasOwnProperty(key)) {
                        try {
                            const response = await fetch(apiEndpoints[key]);
                            const result = await response.json();
                            if (key === 'ordersToday') {
                                orders = result; // Cập nhật dữ liệu đơn hàng từ API
                            } else {
                                stats[key] = result;
                            }
                            console.log(`API ${key} đã được gọi: ${apiEndpoints[key]}`);
                            console.log(`Kết quả:`, result);
                        } catch (error) {
                            console.error(`Error fetching ${key}:`, error);
                        }
                    }
                }
                updateStats();
                setupChart();
                renderOrderList(); // Hiển thị danh sách đơn hàng sau khi lấy dữ liệu
            }

            function calculatePercentageChange(newVal, oldVal) {
                if (oldVal === 0) {
                    return newVal > 0 ? '100' : '0';
                }
                return ((newVal - oldVal) / oldVal * 100).toFixed(2);
            }

            function updateStats() {
                const customersYesterday = stats.customersYesterday || 1;
                const ordersYesterday = stats.ordersYesterday || 1;
                const customersLastMonth = stats.customersLastMonth || 1;
                const ordersLastMonth = stats.ordersLastMonth || 1;

                const customersTodayChange = ((stats.customersToday - customersYesterday) / customersYesterday * 100).toFixed(2);
                const ordersTodayChange = ((stats.ordersToday - ordersYesterday) / ordersYesterday * 100).toFixed(2);
                const customersMonthChange = ((stats.customersThisMonth - customersLastMonth) / customersLastMonth * 100).toFixed(2);
                const ordersMonthChange = ((stats.ordersThisMonth - ordersLastMonth) / ordersLastMonth * 100).toFixed(2);

                document.getElementById("customers-today").innerText = stats.customersToday;
                document.getElementById("customers-change-today").innerText = `${customersTodayChange}% so với hôm qua`;
                document.getElementById("customers-change-today").className = customersTodayChange >= 0 ? 'positive-change' : 'negative-change';

                document.getElementById("orders-today").innerText = stats.ordersToday;
                document.getElementById("orders-change-today").innerText = `${ordersTodayChange}% so với hôm qua`;
                document.getElementById("orders-change-today").className = ordersTodayChange >= 0 ? 'positive-change' : 'negative-change';

                document.getElementById("customers-month").innerText = stats.customersThisMonth;
                document.getElementById("customers-change-month").innerText = `${customersMonthChange}% so với tháng trước`;
                document.getElementById("customers-change-month").className = customersMonthChange >= 0 ? 'positive-change' : 'negative-change';

                document.getElementById("orders-month").innerText = stats.ordersThisMonth;
                document.getElementById("orders-change-month").innerText = `${ordersMonthChange}% so với tháng trước`;
                document.getElementById("orders-change-month").className = ordersMonthChange >= 0 ? 'positive-change' : 'negative-change';
            }

            function renderOrderList() {
                const start = (currentPage - 1) * itemsPerPage;
                const end = start + itemsPerPage;
                const orderList = document.getElementById("orderList");
                orderList.innerHTML = "";

                for (let i = start; i < end && i < orders.length; i++) {
                    const listItem = document.createElement("li");
                    listItem.innerText = orders[i];
                    orderList.appendChild(listItem);
                }
            }

            document.getElementById("prevPage").addEventListener("click", function() {
                if (currentPage > 1) {
                    currentPage--;
                    renderOrderList();
                }
            });

            document.getElementById("nextPage").addEventListener("click", function() {
                if (currentPage * itemsPerPage < orders.length) {
                    currentPage++;
                    renderOrderList();
                }
            });

            async function setupChart() {
                try {
                    const response = await fetch(apiEndpoints.ordersCurrentWeek);
                    const weeklyOrders = await response.json();

                    const ctx = document.getElementById("orderChart").getContext("2d");
                    new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: ["Thứ 2", "Thứ 3", "Thứ 4", "Thứ 5", "Thứ 6", "Thứ 7", "Chủ Nhật"],
                            datasets: [{
                                label: 'Đơn hàng hoàn thành',
                                data: weeklyOrders,
                                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                                borderColor: 'rgba(54, 162, 235, 1)',
                                borderWidth: 1
                            }]
                        },
                        options: {
                            scales: {
                                y: {
                                    beginAtZero: true
                                }
                            }
                        }
                    });
                } catch (error) {
                    console.error(`Error setting up chart:`, error);
                }
            }

            fetchStats();
        });
    </script>


</div>

</body>
</html>
